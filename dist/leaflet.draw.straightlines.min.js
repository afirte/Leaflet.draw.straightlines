!function(){function t(t){var n;return o.eachLayer(function(a){a instanceof t&&(n=a)}),n}function n(t){var n=Math.abs(t.lat-l.lat),a=Math.abs(t.lng-l.lng);return a>n}var a,e,l,o,i=L.Draw.Polyline.prototype._onMouseMove;window.onkeydown=function(t){e=t.ctrlKey},window.onkeyup=function(){e=!1},L.Draw.Polyline.prototype._onMouseMove=function(t){if(i.call(this,t),e&&a){var g=o.latLngToLayerPoint(a.getLatLng());n(t.latlng)?(a.setLatLng(L.latLng(l.lat,a.getLatLng().lng)),t.layerPoint.y=g.y):(a.setLatLng(L.latLng(a.getLatLng().lat,l.lng)),t.layerPoint.x=g.x),this._updateGuide(t.layerPoint),a.update()}},L.Map.prototype.initStraightLines=function(){o=this,o.on("mouseup",function(o){setTimeout(function(){var i=t(L.Polyline);if(a=t(L.Marker)){if(e&&i){var g=i.getLatLngs();l&&g.length&&(n(o.latlng)?(g[g.length-1].lat=l.lat,g[g.length-2].lat=l.lat):(g[g.length-1].lng=l.lng,g[g.length-2].lng=l.lng),i.redraw(),a.update())}l=a.getLatLng()}})})}}();
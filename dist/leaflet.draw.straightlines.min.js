!function(){function t(t){var n;return g.eachLayer(function(e){e instanceof t&&(n=e)}),n}var n,e,a,o,l,g,i=L.Draw.Polyline.prototype._onMouseMove,r=L.Draw.Polyline.prototype._onMouseUp;window.onkeydown=function(t){a=t.shiftKey,o=t.ctrlKey},window.onkeyup=function(){a=!1,o=!1},L.Draw.Polyline.prototype._onMouseMove=function(t){if(i.call(this,t),g=t.target,(a||o)&&n){var e=g.latLngToLayerPoint(n.getLatLng());a&&(n.setLatLng(L.latLng(l.lat,n.getLatLng().lng)),t.layerPoint.y=e.y),o&&(n.setLatLng(L.latLng(n.getLatLng().lat,l.lng)),t.layerPoint.x=e.x),n.update(),this._updateGuide(t.layerPoint)}},L.Draw.Polyline.prototype._onMouseUp=function(g){if(r.call(this,g),l=g.latlng,e=t(L.Polyline),a||o){var i=e.getLatLngs();l&&i.length&&(a?(i[i.length-1].lat=n.getLatLng().lat,i[i.length-2].lat=n.getLatLng().lat):o&&(i[i.length-1].lng=n.getLatLng().lng,i[i.length-2].lng=n.getLatLng().lng),e.redraw())}n=t(L.Marker)}}();